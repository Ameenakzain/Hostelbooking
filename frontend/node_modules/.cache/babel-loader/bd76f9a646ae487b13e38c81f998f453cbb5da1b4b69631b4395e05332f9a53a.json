{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Hostelbooking/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useDropzone}from\"react-dropzone\";import axios from\"axios\";import\"../styles/OwnerRegister.css\";// Import your CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OwnerRegister=()=>{const[formData,setFormData]=useState({fullName:\"\",email:\"\",contact:\"\",password:\"\",confirmPassword:\"\",hostelName:\"\",hostelAddress:\"\",licenseFile:null});const[fileError,setFileError]=useState(\"\");// To handle file errors\nconst[uploadedFileName,setUploadedFileName]=useState(\"\");// Handle input change\nconst handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};// Handle file upload\nconst onDrop=(acceptedFiles,rejectedFiles)=>{if(rejectedFiles.length>0){setFileError(\"Only PDF files are allowed.\");return;}setFileError(\"\");setFormData(_objectSpread(_objectSpread({},formData),{},{licenseFile:acceptedFiles[0]}));setUploadedFileName(acceptedFiles[0].name);};const{getRootProps,getInputProps}=useDropzone({accept:{\"application/pdf\":[\".pdf\"]},// ✅ Proper MIME type\nmaxFiles:1,onDrop});// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();if(formData.password!==formData.confirmPassword){alert(\"Passwords do not match!\");return;}if(!formData.licenseFile){// ✅ Check if the license file is uploaded\nalert(\"Please upload a license file.\");return;}console.log(formData);const data=new FormData();data.append(\"fullName\",formData.fullName);data.append(\"email\",formData.email);data.append(\"contact\",formData.contact);data.append(\"password\",formData.password);data.append(\"hostelName\",formData.hostelName);data.append(\"hostelAddress\",formData.hostelAddress);data.append(\"licenseFile\",formData.licenseFile);try{const response=await axios.post(\"http://localhost:5000/owners/signup\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});alert(\"Signup successful!\");}catch(error){console.error(\"Error:\",error);alert(\"Signup failed. Try again.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"logo\",children:[\"BOOK\",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"myHOSTEL\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Create your account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fullName\",placeholder:\"Enter your full name\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter your email address\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"contact\",placeholder:\"Enter your contact number\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter your password\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",placeholder:\"Confirm your password\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"h4\",{children:\"Hostel details\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"hostelName\",placeholder:\"Hostel Name\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"hostelAddress\",placeholder:\"Hostel address\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload a copy of your license to manage hostels\"}),/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{className:\"dropzone\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(\"p\",{children:\"Drag and drop files to upload or\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:\"Browse\"})]})),uploadedFileName&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Uploaded file: \",uploadedFileName]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"signup-btn\",children:\"SIGN UP\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"OR\"}),/*#__PURE__*/_jsx(\"button\",{className:\"google-signin\",children:\"Continue with Google\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login\"})]})]});};export default OwnerRegister;","map":{"version":3,"names":["React","useState","useDropzone","axios","jsx","_jsx","jsxs","_jsxs","OwnerRegister","formData","setFormData","fullName","email","contact","password","confirmPassword","hostelName","hostelAddress","licenseFile","fileError","setFileError","uploadedFileName","setUploadedFileName","handleChange","e","_objectSpread","target","name","value","onDrop","acceptedFiles","rejectedFiles","length","getRootProps","getInputProps","accept","maxFiles","handleSubmit","preventDefault","alert","console","log","data","FormData","append","response","post","headers","error","className","children","onSubmit","type","placeholder","onChange","required","href"],"sources":["C:/Users/HP/Hostelbooking/frontend/src/components/OwnerRegister.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport axios from \"axios\";\r\nimport \"../styles/OwnerRegister.css\"; // Import your CSS file\r\n\r\nconst OwnerRegister = () => {\r\n  const [formData, setFormData] = useState({\r\n    fullName: \"\",\r\n    email: \"\",\r\n    contact: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    hostelName: \"\",\r\n    hostelAddress: \"\",\r\n    licenseFile: null,\r\n  });\r\n  const [fileError, setFileError] = useState(\"\"); // To handle file errors\r\n  const [uploadedFileName, setUploadedFileName] = useState(\"\");\r\n\r\n  // Handle input change\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Handle file upload\r\n  const onDrop = (acceptedFiles, rejectedFiles) => {\r\n    if (rejectedFiles.length > 0) {\r\n      setFileError(\"Only PDF files are allowed.\");\r\n      return;\r\n    }\r\n\r\n    setFileError(\"\");\r\n    setFormData({ ...formData, licenseFile: acceptedFiles[0] });\r\n    setUploadedFileName(acceptedFiles[0].name);\r\n  };\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: { \"application/pdf\": [\".pdf\"] }, // ✅ Proper MIME type\r\n    maxFiles: 1,\r\n    onDrop,\r\n  });\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (formData.password !== formData.confirmPassword) {\r\n      alert(\"Passwords do not match!\");\r\n      return;\r\n    }\r\n    if (!formData.licenseFile) {  // ✅ Check if the license file is uploaded\r\n      alert(\"Please upload a license file.\");\r\n      return;\r\n    }\r\n    console.log(formData); \r\n\r\n    const data = new FormData();\r\n    data.append(\"fullName\", formData.fullName);\r\n    data.append(\"email\", formData.email);\r\n    data.append(\"contact\", formData.contact);\r\n    data.append(\"password\", formData.password);\r\n    data.append(\"hostelName\", formData.hostelName);\r\n    data.append(\"hostelAddress\", formData.hostelAddress);\r\n    data.append(\"licenseFile\", formData.licenseFile);\r\n  \r\n\r\n    try {\r\n      const response = await axios.post(\"http://localhost:5000/owners/signup\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n      alert(\"Signup successful!\");\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      alert(\"Signup failed. Try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <h2 className=\"logo\">BOOK<span className=\"highlight\">myHOSTEL</span></h2>\r\n      <h2>Welcome</h2>\r\n      <p>Create your account</p>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" name=\"fullName\" placeholder=\"Enter your full name\" onChange={handleChange} required />\r\n        <input type=\"email\" name=\"email\" placeholder=\"Enter your email address\" onChange={handleChange} required />\r\n        <input type=\"tel\" name=\"contact\" placeholder=\"Enter your contact number\" onChange={handleChange} required />\r\n        <input type=\"password\" name=\"password\" placeholder=\"Enter your password\" onChange={handleChange} required />\r\n        <input type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm your password\" onChange={handleChange} required />\r\n\r\n        <h4>Hostel details</h4>\r\n        <input type=\"text\" name=\"hostelName\" placeholder=\"Hostel Name\" onChange={handleChange} required />\r\n        <input type=\"text\" name=\"hostelAddress\" placeholder=\"Hostel address\" onChange={handleChange} required />\r\n\r\n        <p>Upload a copy of your license to manage hostels</p>\r\n        <div {...getRootProps()} className=\"dropzone\">\r\n          <input {...getInputProps()} />\r\n          <p>Drag and drop files to upload or</p>\r\n          <button type=\"button\">Browse</button>\r\n        </div>\r\n        {uploadedFileName && <p>Uploaded file: {uploadedFileName}</p>}\r\n\r\n        <button type=\"submit\" className=\"signup-btn\">SIGN UP</button>\r\n      </form>\r\n\r\n      <p>OR</p>\r\n      <button className=\"google-signin\">Continue with Google</button>\r\n      <p>Already have an account? <a href=\"/login\">Login</a></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerRegister;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}